<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="The goal of this project is to provide a standard template for Jenkins jobs for PHP projects." />
  <meta name="author" content="Sebastian Bergmann" />
  <title>Template for Jenkins Jobs for PHP Projects: Integration</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]>
  <script src="js/html5shiv.js"></script>
  <script src="js/respond.min.js"></script>
  <![endif]-->
 </head>
 <body>
  <div id="wrap">
   <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
     <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
       <span class="sr-only">Toggle Navigation</span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Template for Jenkins Jobs for PHP Projects</a>
     </div>
     <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
       <li><a href="index.html">Home</a></li>
       <li><a href="installation.html">Installation</a></li>
       <li><a href="automation.html">Automation</a></li>
       <li><a href="configuration.html">Configuration</a></li>
       <li class="active"><a href="integration.html">Integration</a></li>
       <li><a href="support.html">Support</a></li>
      </ul>
     </div>
    </div>
   </div>
   <div class="container">
    <div class="page-header">
     <h1>Integration</h1>
    </div>
    <h2>Using the Job Template</h2>
    <ol>
     <li><p>Fetch the jenkins-cli.jar from your jenkins server:</p>
     <pre>wget http://localhost:8080/jnlpJars/jenkins-cli.jar</pre></li>
     <li><p>Download and install the job template:</p>
     <pre>curl https://raw.github.com/sebastianbergmann/php-jenkins-template/master/config.xml | \
     java -jar jenkins-cli.jar -s http://localhost:8080 create-job php-template</pre>
     <p><strong>or</strong> add the template manually:</p>
     <pre>cd $JENKINS_HOME/jobs
mkdir php-template
cd php-template
wget https://raw.github.com/sebastianbergmann/php-jenkins-template/master/config.xml
cd ..
chown -R jenkins:jenkins php-template/</pre></li>
     <li><p>Reload Jenkins' configuration, for instance using the Jenkins CLI:</p>
     <pre>java -jar jenkins-cli.jar -s http://localhost:8080 reload-configuration</pre></li>
     <li><p>Click on "New Job".</p></li>
     <li><p>Enter a "Job name".</p></li>
     <li><p>Select "Copy existing job" and enter "php-template" into the "Copy from" field.</p></li>
     <li><p>Click "OK".</p></li>
     <li><p>Disable the "Disable Build" option.</p></li>
     <li><p>Fill in your "Source Code Management" information.</p></li>
     <li><p>Configure a "Build Trigger", for instance "Poll SCM".</p></li>
     <li><p>Click "Save".</p></li>
    </ol>
    <h2>Troubleshooting</h2>
    <h3>No "Copy existing job" option / "php-template" project does not show up</h3>
    <p>Jenkins cannot find the <code>php-template</code> job. Make sure you cloned to the right directory. Check the permissions to make sure the Jenkins user has read and write access to the directory. Restart Jenkins.</p>
    <h3>General Setup Issues</h3>
    <p>Check the management panel <code>http://localhost:8080/manage</code> and the <a href="http://wiki.jenkins-ci.org/display/JENKINS/Logging">Jenkins log</a> for messages.</p>
   </div>
  </div>
  <div id="footer">
   <div class="container">
    <p class="text-muted">The "<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type"><a xmlns:cc="http://creativecommons.org/ns#" href="http://jenkins-php.org/" property="cc:attributionName" rel="cc:attributionURL">Template for Jenkins Jobs for PHP Projects</a></span>" by <a href="http://sebastian-bergmann.de/">Sebastian Bergmann</a> and his contributors is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
   </div>
  </div>
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.sebastian-bergmann.de/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "6"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
  </script>
 </body>
</html>

